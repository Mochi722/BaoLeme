# COIN需求规格说明文档

## 1. 目录

[TOC]

## 2. 变更记录

| 修改人员 | 日期      | 审批 | 变更原因   | 版本 |
| -------- | --------- | ---- | ---------- | ---- |
| 冯泊涓   | 2021-3-7  |      | 初稿       | v1.0 |
| 冯泊涓   | 2021-3-21 |      | 终稿       | v1.1 |
| 吴雨晴   | 2021-3-25 |      | 迭代二初稿 | v1.2 |

## 3. 引言

### 3.1 目的

本文档描述了COIN知识图谱系统的功能需求与非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

### 3.2 范围

本项目在旨在构建一个系统平台通过在线编辑基本图元以可视化的方式构建个结构完整、业务覆盖全面的知识图谱知识图谱，并初步具备一定知识推理能力。

### 3.3 参考文献

1. IEEE 标准
2. 软件开发的技术基础
3. 团队与软件开发实践

## 4. 总体描述

### 4.1 背景与机遇

知识图谱（ Knowledge Graph）的概念由谷歌 2012 年正式提出，旨在实现更智
能的搜索引擎，并且于 2013 年以后开始在学术界和业界普及。  
目前，随着智能信息
服务应用的不断发展，知识图谱已被广泛应用于智能搜索、智能问答、个性化推荐、
情报分析、反欺诈等领域。知识图谱以其强大的语义处理能力与开放互联能力，可为
万维网上的知识互联奠定扎实的基础，使 Web 3.0 提出的“知识之网”愿景成为了可
能。  
知识图谱是一种结构化的语义知识库，用于迅速描述物理世界中的概念及其相互
关系。通常知识图谱通过对错综复杂的文档的数据进行有效的加工、处理、整合，转
化为简单、清晰的“实体,关系,实体”的三元组，最后聚合大量知识，从而实现知识的
快速响应和推理。

### 4.1 业务需求

BR1：系统正式上线半个月后，至少获取1000次用户访问。

### 4.2 系统特性

SF1：图形化展示知识图谱  
SF2：知识图谱的编辑修改  
SF3：知识图谱导出

### 4.3 用户特征

| 用户 | 特征                                                         |
| ---- | ------------------------------------------------------------ |
| 用户 | 系统的访问者，希望可以直接便捷地浏览、查询、编辑知识图谱，并希望知识图谱具有简洁、美观的特性。  <br/>用户计算机水平层次不齐，因此界面设计应该简洁、易用。 |

### 4.4 约束

CON1：系统是基于Web的数据库应用系统  
CON2：系统开发使用螺旋模型  
CON3：系统架构采用分层模型

### 4.5 假设和依赖

AE1: 用户至少运行在 5M 带宽的网络环境中，网络通畅。  
AE2：不会有高并发场景。

## 5. 详细需求描述

### 5.1 用户界面

![image-20210321211133474](https://raw.githubusercontent.com/xyliaox233/pics/main/img/20210321211231.png?token=AL2K6QWCMYMPXTXLRBJC5OLAK5DH2)

### 5.2 通信接口

用户浏览器与服务器使用 HTTP 协议进行通信。

### 5.3 功能需求

#### 5.3.1 用户导入知识图谱

##### 5.3.1.1 特征描述

用户选择导入本地知识图谱文件，查看该图谱的可视化信息  
优先级：高

##### 5.3.1.2 刺激/响应序列

刺激：用户选择上传

响应：系统显示上传文件弹窗

刺激：用户选择本地文件上传

响应：系统可视化显示该知识图谱

##### 5.3.1.3 相关功能需求

| 编号           | 描述             |
| -------------- | ---------------- |
| usr.importJSON | 上传知识图谱     |
| usr.getAll     | 获得知识图谱信息 |

#### 5.3.2 用户在线编辑知识图谱

##### 5.3.2.1 特征描述

用户选择增加、修改或删除知识图谱中的实体和关系，在线编辑知识图谱并查看修改后的知识图谱

优先级：高

##### 5.3.2.2 刺激/响应序列

**用户增加/修改知识图谱中的实体/关系**  
刺激：用户选择添加实体/关系  
响应：系统提示输入实体/关系信息，包括实体/关系名称、实体/关系类型  
刺激：用户输入实体/关系信息并确定输入  
响应：系统显示修改后的可视化知识图谱  

**用户删除知识图谱中的实体/关系**  
刺激：用户选择删除实体/关系  
响应：系统提示是否删除该实体/关系  
刺激：用户确定删除实体/关系  
响应：系统删除该实体/关系并更新数据库

##### 5.3.2.3 相关功能需求

| 编号                   | 描述         |
| ---------------------- | ------------ |
| usr.addEntity          | 增加新实体   |
| usr.addRelation        | 增加实体关系 |
| usr.updateEntityName   | 更改实体名   |
| usr.updateRelationName | 更改关系名   |
| usr.deleteEntity       | 删除实体     |
| usr.deleteRelation     | 删除关系     |



#### 5.3.3 用户导出知识图谱

##### 5.3.3.1 特征描述

用户选择特定格式导出知识图谱文件

优先级：中

##### 5.3.3.2 刺激/响应序列

刺激：用户选择导出知识图谱

响应：系统提示选择知识图谱导出格式

刺激：用户选择文件格式并选择导出知识图谱  

响应：系统导出知识图谱文件

##### 5.3.3.3 相关功能需求

无

#### 5.3.4 用户编辑图元属性

##### 5.3.4.1 特征描述

用户选择自定义图元，图谱展示图元外观  
优先级：高

##### 5.3.4.2 刺激/响应序列

刺激：用户选择添加图元

响应：系统显示图元编辑界面

刺激：用户设置图元属性，包括形状、大小、颜色，选择确定添加

响应：系统可视化显示该图元

刺激：用户选择编辑图元

响应：系统显示图元编辑界面

刺激：用户修改图元属性，包括形状、大小、颜色，选择确定修改

响应：系统可视化显示该图元

##### 5.3.4.3 相关功能需求

| 编号                     | 描述         |
| ------------------------ | ------------ |
| usr.setGraphElementSize  | 设置图元尺寸 |
| usr.setGraphElementColor | 设置图元颜色 |

#### 5.3.5 用户拖拽编辑图谱

##### 5.3.5.1 特征描述

用户通过拖拽改变图谱布局  
优先级：高

##### 5.3.5.2 刺激/响应序列

刺激：用户选中实体并拖拽

响应：系统显示拖拽后布局变化的图谱

刺激：用户再次打开图谱

响应：系统显示上一次拖拽后图谱的布局

##### 5.3.5.3 相关功能需求

| 编号             | 描述         |
| ---------------- | ------------ |
| usr.setEntityLoc | 设置实体位置 |

#### 5.3.6 用户搜索节点

##### 5.3.6.1 特征描述

用户搜索节点，系统展示该节点及其相关节点  
优先级：高

##### 5.3.6.2 刺激/响应序列

刺激：用户在搜索框输入节点名称，选择搜索

响应：系统显示模糊搜索结果

刺激：用户在搜索结果中选择一个

响应：系统显示该节点及其相关节点构成的图谱

##### 5.3.6.3 相关功能需求

| 编号             | 描述                     |
| ---------------- | ------------------------ |
| usr.searchEntity | 根据实体名称模糊搜索实体 |

#### 5.3.7 类型过滤

##### 5.3.7.1 特征描述

用户选择筛选某一个类型的节点，系统显示简化的图谱  
优先级：高

##### 5.3.7.2 刺激/响应序列

刺激：用户选择某一实体类型，选择过滤

响应：系统隐藏图谱内所有非该类型的实体

##### 5.3.7.3 相关功能需求

| 编号                | 描述                   |
| ------------------- | ---------------------- |
| usr.getEntityOfKind | 搜索获取某一类型的实体 |

#### 5.3.8 浏览图谱统计数据

##### 5.3.8.1 特征描述

用户浏览图谱统计数据。  
优先级：高

##### 5.3.8.2 刺激/响应序列

刺激：用户选择查看图谱数值统计

响应：系统显示图谱内各个类型实体数量，数值类型实体的均值。

##### 5.3.8.3 相关功能需求

| 编号                | 描述                   |
| ------------------- | ---------------------- |
| usr.getEntityOfKind | 搜索获取某一类型的实体 |
| usr.getAll          | 获取知识图谱信息       |

#### 5.3.9 缩放图谱

##### 5.3.9.1 特征描述

用户对图谱显示大小进行缩放  
优先级：高

##### 5.3.9.2 刺激/响应序列

刺激：用户点击加号

响应：系统将图谱尺寸增加一定数值后显示

刺激：用户点击减号

响应：系统将图谱尺寸减小一定数值后显示

刺激：用户选择还原

响应：系统显示缩放前原始尺寸的图谱

##### 5.3.9.3 相关功能需求

| 编号             | 描述             |
| ---------------- | ---------------- |
| usr.setGraphSize | 设置图谱显示尺寸 |

#### 5.3.10 模式切换

##### 5.3.10.1 特征描述

用户选择以力导图模式或排版模式对图谱进行可视化  
优先级：高

##### 5.3.10.2 刺激/响应序列

刺激：（力导图模式时）用户点击排版模式

响应：系统以排版模式展示图谱

刺激：（排版模式时）用户点击力导图模式

响应：系统以力导图模式展示图谱

##### 5.3.10.3 相关功能需求

| 编号         | 描述             |
| ------------ | ---------------- |
| usr.setModel | 设置图谱显示模式 |



### 5.4 非功能需求

#### 5.4.1 安全性

Safety1：用户操作过程中数据不被偷窥、窃取、篡改

#### 5.4.2 性能

Performance1：系统的响应时间不超过 10ms  
Performance2：系统的超时错误率不超过 0.1%

#### 5.4.3 可靠性

Reliability1：系统提供7*24小时运行

#### 5.4.4 易用性

Usability1: 无需用户使用手册或专业培训即可直接使用系统  
Usability2: 查询任何一条数据不会跳转超过 3 个页面，鼠标点击不会超过 5 次

#### 5.4.5 约束

C1: 系统采用分层模型开发  
C2：系统使用 Neo4j 数据库存储数据  
C3：系统使用 Java 语言进行开发

### 5.5 数据需求

#### 5.5.1 数据定义

DR1：系统需要存储用户上传的知识图谱数据

#### 5.5.2 数据格式要求

Format1：用户上传知识图谱文件格式为.csv

Format2：知识图谱实体属性为：姓名，格式为String

Format3：知识图谱关系名不以数字开头，且不包含特殊字符

Format4：用户导出知识图谱文件类型为xml或图片
