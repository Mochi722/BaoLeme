# 测试文档

| 时间      | 修改者 | 内容     | 版本 |
| --------- | ------ | -------- | ---- |
| 2021-6-18 | 冯泊涓 | 测试文档 | v1.0 |



## 单元测试用例

**Neo4jData**

| id |用例         | 覆盖流程                            | 输入               | 预期输出                          | 测试结果                                                     |
| ------ |------------ | ----------------------------------- | ------------------ | --------------------------------- | ------------------------------------------------------------ |
| 1 | getRelativeRelation_updateRelationName | 获得节点相关关系+修改关系名 | 节点id，新关系名 | 关系列表长度符合预期，关系成功改名 | 成功 |
| 2 | search_Entity | 根据节点id查找节点 | 节点id | 对应id节点 | 成功 |
| 3 | getByLabels | 根据节点label查找节点 | 节点label列表 | 返回符合预期长度的列表 | 成功 |
| 4 | updateEntityProperty | 更新节点属性 | 节点id和属性 | 更新节点的属性 | 成功 |
| 5 | updateRelationProperty | 更新关系属性 | 关系id和属性 | 更新关系的属性 | 成功 |
| 6 | getDistinctPropValues | 获得指定label指定属性字段的所有不同属性值 | 节点label，合法的节点属性名 | 该label节点该属性不同属性值列表 | 成功 |
| 7 | getDistinctLabels | 获得所有不同的节点label列表 | 无 | 获得符合预期长度的label列表 | 成功 |
| 8 | getDistinctRelationNames | 获得所有不同的关系名列表 | 无 | 获得符合预期长度的关系名列表 | 成功 |

**MysqlData**

| id   | 用例           | 覆盖流程                     | 输入                           | 预期输出                                                    | 测试结果 |
| ---- | -------------- | ---------------------------- | ------------------------------ | ----------------------------------------------------------- | -------- |
| 1    | getUserByPhone | 根据手机号获得用户信息       | 用户手机号                     | 该注册手机号对应的用户信息                                  | 成功     |
| 2    | register       | 注册                         | 用户名，密码，手机号           | 注册用户账号并返回对应的用户信息                            | 成功     |
| 3    | modifyFavor    | 用户修改用户偏好信息         | 用户id，用户偏好               | 用户偏好修改成功                                            | 成功     |
| 4    | collect        | 用户收藏节点，获取用户收藏集 | 用户id，收藏节点id，收藏节点名 | 用户收藏成功，收藏的对应节点热度+1，获取的用户收藏集长度为1 | 成功     |

**KGService**

| id   | 用例                     | 覆盖流程                                  | 输入                                     | 预期输出                                  | 测试结果 |
| ---- | ------------------------ | ----------------------------------------- | ---------------------------------------- | ----------------------------------------- | -------- |
| 1    | getRelativeRelation      | 根据节点id获得相关的所有关系              | 节点id                                   | 包含关系列表、节点列表的Map               | 成功     |
| 2    | addEntity                | 添加节点                                  | 节点label列表、属性列表                  | 节点添加成功并返回新节点id                | 成功     |
| 3    | addRelation              | 添加关系                                  | 关系sourceId，targetId，关系名，关系属性 | 关系添加成功并返回新关系id                | 成功     |
| 4    | updateRelationName       | 更新关系名                                | 关系id，新关系名                         | 修改关系名并返回关系id                    | 成功     |
| 5    | deleteEntity             | 删除节点                                  | 节点id                                   | 节点删除成功                              | 成功     |
| 6    | deleteRelation           | 删除关系                                  | 关系id                                   | 关系删除成功                              | 成功     |
| 7    | getByLabels              | 根据label列表获得符合要求的节点列表       | label列表                                | 符合要求的节点列表                        | 成功     |
| 8    | updateEntityProperty     | 根据id更新节点属性                        | 节点id，节点属性                         | 更新节点属性                              | 成功     |
| 9    | updateRelationProperty   | 根据id更新关系属性                        | 关系id，关系属性                         | 更新关系属性                              | 成功     |
| 10   | getDistinctLabels        | 获得所有不同的节点label列表               | 无                                       | 获得所有不同label列表                     | 成功     |
| 11   | getDistinctRelationNames | 获得所有不同的关系名列表                  | 无                                       | 获得所有不同的关系名列表                  | 成功     |
| 12   | getDistinctPropValues    | 获得指定label节点的指定属性所有不同属性值 | label，属性名                            | 获得指定label节点的指定属性所有不同属性值 | 成功     |



## 集成测试用例

| id   | 用例      | 覆盖流程                   | 测试结果 |
| ---- | --------- | -------------------------- | -------- |
| 1    | totalTest | 用户注册、登陆，根据条件搜索节点、收藏节点，查看收藏夹 | 成功 |

